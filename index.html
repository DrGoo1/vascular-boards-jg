<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Vascular Boards – Loading…</title>
<meta name="robots" content="noindex">
<style>
  html,body{margin:0;height:100%;background:#000;color:#fff;font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
  .wrap{display:flex;align-items:center;justify-content:center;height:100%}
  .card{padding:16px 20px;border:1px solid #333;border-radius:12px;background:#0b0b0b}
</style>
</head>
<body>
<div class="wrap"><div class="card" id="msg">Updating…</div></div>
<script>
// 1) Unregister ALL existing service workers for this scope (Safari caches them aggressively)
(async () => {
  const msg = document.getElementById('msg');
  try {
    if ('serviceWorker' in navigator) {
      const regs = await navigator.serviceWorker.getRegistrations();
      for (const r of regs) { try { await r.unregister(); } catch {} }
      // Also clear any controller
      if (navigator.serviceWorker.controller) {
        try { navigator.serviceWorker.controller.postMessage({type:'SKIP'}); } catch {}
      }
    }
  } catch { /* ignore */ }
  // 2) Hard redirect to the working page with a unique cache-buster so NOTHING cached is used
  const ts = 'hard-' + Date.now();
  msg.textContent = 'Reloading…';
  location.replace('./simple.html?' + ts);
})();
</script>
</body>
</html>

